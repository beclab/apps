---
olaresManifest.version: '0.10.0'
olaresManifest.type: app
apiVersion: 'v2'
metadata:
  appid: openedaispeechv2
  name: openedaispeechv2
  title: OpenedAI Speech For Cluster
  description: An OpenAI API compatible text to speech server using Coqui AI and/or piper TTS as the backend.
  icon: https://app.cdn.olares.com/appstore/openedai/icon.png
  version: '1.0.2'
  categories:
  - AI
  - Creativity
  - Productivity
sharedEntrances:
- name: openedaispeechv2
  title: OpenedAI Speech For Cluster
  host: sharedentrances-api
  icon: https://app.cdn.olares.com/appstore/openedai/icon.png
  port: 0
  invisible: true
  authLevel: internal
entrances:
- authLevel: internal
  host: openedaispeech-proxy
  icon: https://app.cdn.olares.com/appstore/openedai/icon.png
  name: openedaispeechv2
  openMethod: window
  port: 8080
  title: OpenedAI Speech For Cluster
  invisible: true
spec:
  versionName: '0.18.2'
  featuredImage: https://app.cdn.olares.com/appstore/openedai/1.webp
  promoteImage:
  - https://app.cdn.olares.com/appstore/openedai/1.webp
  - https://app.cdn.olares.com/appstore/openedai/2.webp
  - https://app.cdn.olares.com/appstore/openedai/3.webp
  fullDescription: |
    ## IMPORTANT NOTE ##
    Please note that this is a cluster-scoped app, you will need the corresponding app to use it.

    ## OVERVIEW ##
    OpenedAI Speech is an OpenAI API compatible text to speech server.
    - Compatible with the OpenAI audio/speech API
    - Serves the /v1/audio/speech endpoint
    - Not affiliated with OpenAI in any way, does not require an OpenAI API Key
    - A free, private, text-to-speech server with custom voice cloning


    Multiple Default Voices Available:
    - tts-1: alloy, echo, fable, onyx, nova, and shimmer
    - tts-1-hd: alloy, echo, fable, onyx, nova, and shimmer

    Supports Various Formats
    - response in mp3, opus, aac, flac, wav and pcm
    - adjust speed between 0.25-4.0 (and more)

  upgradeDescription: |
    Upgrade to Version 0.18.2, 2024-08-16

    Fix docker building for amd64, refactor github actions again, free up more disk space

    Full release note at: https://github.com/matatonic/openedai-speech/releases/tag/0.18.2

  developer: matatonic
  website: https://github.com/matatonic/openedai-speech
  sourceCode: https://github.com/matatonic/openedai-speech
  submitter: Olares
  locale:
  - en-US
  - zh-CN
  doc: https://github.com/matatonic/openedai-speech?tab=readme-ov-file#readme
  license:
  - text: AGPL-3.0
    url: https://github.com/matatonic/openedai-speech#AGPL-3.0-1-ov-file
  {{- if and .Values.admin .Values.bfl.username (eq .Values.admin .Values.bfl.username) }}
  requiredCpu: 50m
  limitedCpu: '4'
  requiredMemory: 500Mi
  limitedMemory: 4500Mi
  requiredDisk: 50Mi
  limitedDisk: 500Mi
  requiredGpu: 4Gi
  limitedGpu: 16Gi
  {{- else }}
  requiredMemory: 64Mi
  limitedMemory: 256Mi
  requiredDisk: 1Mi
  limitedDisk: 100Mi
  requiredCpu: 10m
  limitedCpu: 100m
  {{- end }}
  supportArch:
  - amd64
  - arm64
  subCharts:
  - name: openedaispeechv2server
    shared: true
  - name: openedaispeechv2
permission:
  appData: true
  appCache: true
options:
  dependencies:
  - name: olares
    version: '>=1.12.3-0'
    type: system
{{- if and .Values.admin .Values.bfl.username (eq .Values.admin .Values.bfl.username) }}
{{- else }}
  - name: openedaispeechv2
    type: application
    version: '>=1.0.1'
    mandatory: true
{{- end }}    
  appScope:
{{- if and .Values.admin .Values.bfl.username (eq .Values.admin .Values.bfl.username) }}
    clusterScoped: true
    appRef:
    - openedaispeechv2
{{- else }}
    clusterScoped: false
{{- end }}