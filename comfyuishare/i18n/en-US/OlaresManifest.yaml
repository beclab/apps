metadata:
  title: ComfyUI Shared
  description: The most powerful and modular stable diffusion GUI and backend.
spec:
  fullDescription: |
    ## IMPORTANT NOTE ##
    This is a shared version of ComfyUI. Only one service will be installed across the entire Olares system. However, every user still needs to install an desktop entry to access and use the service installed by the Olares Admin.

    After installation, everyone on this Olares cluster can use the same application. This shared setup makes it easier for users to share information with each other, while reducing maintenance work and using fewer resources.

    ## OVERVIEW ##
    The most powerful and modular stable diffusion GUI and backend.

    This ui will let you design and execute advanced stable diffusion pipelines using
    a graph/nodes/flowchart based interface.

    Features
    - Nodes/graph/flowchart interface to experiment and create complex Stable Diffusion workflows without needing to code anything.
    - Image Models
      * SD1.x, SD2.x,
      * SDXL, SDXL Turbo
      * Stable Cascade
      * SD3 and SD3.5
      * Pixart Alpha and Sigma
      * AuraFlow
      * HunyuanDiT
      * Flux
      * Lumina Image 2.0
      * HiDream
      * Cosmos Predict2
      * Qwen Image
    - Image Editing Models
      * Omnigen 2
      * Flux Kontext
      * HiDream E1.1
      * Qwen Image Edit
    - Video Models
      * Stable Video Diffusion
      * Mochi
      * LTX-Video
      * Hunyuan Video
      * Nvidia Cosmos and Cosmos Predict2
      * Wan 2.1
      * Wan 2.2
    - Audio Models
      * Stable Audio
      * ACE Step
    - 3D Models
      * Hunyuan3D 2.0
    - Asynchronous Queue system
    - Many optimizations: Only re-executes the parts of the workflow that changes between executions.
    - Smart memory management: can automatically run models on GPUs with as low as 1GB vram.
    - Works even if you don't have a GPU with: --cpu (slow)
    - Can load ckpt, safetensors and diffusers models/checkpoints. Standalone VAEs and CLIP models.
    - Embeddings/Textual inversion
    - Loras (regular, locon and loha)
    - Hypernetworks
    - Loading full workflows (with seeds) from generated PNG, WebP and FLAC files.
    - Saving/Loading workflows as Json files.
    - Nodes interface can be used to create complex workflows like one for Hires fix or much more advanced ones.
    - Area Composition
    - Inpainting with both regular and inpainting models.
    - ControlNet and T2I-Adapter
    - Upscale Models (ESRGAN, ESRGAN variants, SwinIR, Swin2SR, etc...)
    - unCLIP Models
    - GLIGEN
    - Model Merging
    - LCM models and Loras
    - Latent previews with TAESD
    - Starts up very fast.
    - Works fully offline: core will never download anything unless you want to.
    - Optional API nodes to use paid models from external providers through the online Comfy API.
    - Config file to set the search paths for models.

  upgradeDescription: |
    Update ComfyUI to v0.4.0

    What's Changed
    Implement the Ovis image model. by @comfyanonymous in #11030
    Bump frontend to 1.33 by @christian-byrne in #11028
    feat: Support ComfyUI-Manager for pip version by @ltdrdata in #7555
    Add @guill as a code owner by @yoland68 in #11031
    Fix CODEOWNERS formatting to have all on the same line by @Kosinkadink in #11053
    add check for the format arg type in VideoFromComponents.save_to function by @bigcat88 in #11046
    Hack to make zimage work in fp16. by @comfyanonymous in #11057
    attention: use flag based OOM fallback by @rattus128 in #11038
    Support Z Image alipai controlnets. by @comfyanonymous in #11062
    Added PATCH method to CORS headers by @jheising in #11066
    Implement temporal rolling VAE (Major VRAM reductions in Hunyuan and Kandinsky) by @rattus128 in #10995
    Add MatchType, DynamicCombo, and Autogrow support to V3 Schema by @Kosinkadink in #10832
    Fix issue with portable updater. by @comfyanonymous in #11070
    Prs/lora reservations (reduce massive Lora reservations especially on Flux2) by @rattus128 in #11069
    use empty list defaults for Schema.inputs/outputs/hidden to avoid None issues by @bigcat88 in #11083
    [API nodes] add support for "@image" reference format in Kling Omni API nodes by @bigcat88 in #11082
    [V3] convert nodes_load_3d.py to V3 schema by @bigcat88 in #10990
    [V3] convert nodes_audio.py to V3 schema by @bigcat88 in #10798
    Qwen Image Lora training fix from #11090 by @comfyanonymous in #11094
    Fix case where text encoders where running on the CPU instead of GPU. by @comfyanonymous in #11095
    mp: use look-ahead actuals for stream offload VRAM calculation (fixes unwanted TE full offload) by @rattus128 in #11096
    sd: revise hy VAE VRAM by @rattus128 in #11105
    sd: bump HY1.5 VAE estimate by @rattus128 in #11107
    [API Nodes]: fixes and refactor by @bigcat88 in #11104
    Forgot to put this in README. by @comfyanonymous in #11112
    Fix transformer_options getting cleared in Lumina model after z-image PR by @Kosinkadink in #11118
    Make old scaled fp8 format use the new mixed quant ops system. by @comfyanonymous in #11000
    Fix regression when text encoder loaded directly on GPU. by @comfyanonymous in #11129
    Context windows fixes and features by @kijai in #10975
    Fix some custom nodes. by @comfyanonymous in #11134
    docs: add ComfyUI-Manager documentation and update to v4.0.3b4 by @ltdrdata in #11133
    Kandinsky5 model support by @kijai in #10988
    Fix regression. by @comfyanonymous in #11137
    [V3] convert nodes_freelunch.py to the V3 schema by @bigcat88 in #10904
    [V3] convert nodes_mask.py to V3 schema by @bigcat88 in #10669
    Set OCL_SET_SVM_SIZE on AMD. by @comfyanonymous in #11139
    marked all Pika API nodes a deprecated by @bigcat88 in #11146
    Bugfix: Wrong EmptyAudio node input types by @kijai in #11149
    Speed up lora compute and lower memory usage by doing it in fp16. by @comfyanonymous in #11161
    Fix on-load VRAM OOM by @rattus128 in #11144
    Fix qwen scaled fp8 not working with kandinsky. Make basic t2i wf work. by @comfyanonymous in #11162
    Properly load the newbie diffusion model. by @comfyanonymous in #11172
    chore(comfy_api): replace absolute imports with relative by @bigcat88 in #11145
    Update workflow templates to v0.7.51 by @comfyui-wiki in #11150
    chore: replace imports of deprecated V1 classes by @bigcat88 in #11127
    [API Nodes] Add System Instruction support & Visual Enforcement for Banana Nodes by @bigcat88 in #11177
    [API Nodes] add support for seedance-1-0-pro-fast model by @bigcat88 in #10947
    Support "transformer." LoRA prefix for Z-Image by @dxqb in #11135
    retune lowVramPatch VRAM accounting by @rattus128 in #11173
    Update workflow templates to v0.7.54 by @comfyui-wiki in #11192
    Fix regression. by @comfyanonymous in #11194
    Fix potential issue. by @comfyanonymous in #11201
    dequantization offload accounting (fixes Flux2 OOMs - incl TEs) by @rattus128 in #11171
    Patch frontend to 1.33.13 (from 1.33.10) by @christian-byrne in #11200
    add chroma-radiance-x0 mode by @lodestone-rock in #11197
    ops: delete dead code by @rattus128 in #11204
    Fix for HunyuanVideo1.5 meanflow distil by @kijai in #11212
    Fix nan issue when quantizing fp16 tensor. by @comfyanonymous in #11213

    View full release note at: https://github.com/comfyanonymous/ComfyUI/releases/tag/v0.4.0