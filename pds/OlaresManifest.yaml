olaresManifest.version: '0.11.0'
olaresManifest.type: app
metadata:
  name: pds
  icon: https://app.cdn.olares.com/appstore/bluesky/icon.png
  description: Bluesky Personal Data Server
  appid: pds
  title: Bluesky PDS
  version: '1.0.0'
  categories:
  - Fun
  - Social Network
entrances:
- authLevel: internal
  host: pdsingress
  icon: https://app.cdn.olares.com/appstore/bluesky/icon.png
  name: pds
  openMethod: window
  port: 8080
  title: Bluesky PDS
spec:
  versionName: '0.4.204'
  fullDescription: |
    Bluesky PDS (Personal Data Server) is a self-hosted server for the Bluesky social network. It allows you to run your own Personal Data Server, giving you full control over your social media data and identity.

    Features:
    - Self-Hosted: Run your own Personal Data Server for complete control over your data
    - ATProto Protocol: Built on the ATProto (Authenticated Transfer Protocol) for decentralized social networking
    - Account Management: Create and manage Bluesky accounts on your own server
    - Data Control: Full control over your social media data and content
    - WebSocket Support: Real-time updates via WebSocket connections
    - Email Integration: Optional email verification and notifications via SMTP
        
  developer: Bluesky Social
  website: https://github.com/bluesky-social/pds
  sourceCode: https://github.com/bluesky-social/pds
  submitter: Olares
  locale:
  - en-US
  - zh-CN
  doc: https://github.com/bluesky-social/pds
  license:
  - text: Apache-2.0
    url: https://github.com/bluesky-social/pds/blob/main/LICENSE-APACHE.txt
  - text: MIT
    url: https://github.com/bluesky-social/pds/blob/main/LICENSE-MIT.txt
  limitedCpu: 6
  requiredCpu: 1
  requiredDisk: 40Gi
  limitedDisk: 60Gi
  limitedMemory: 6Gi
  requiredMemory: 1Gi
  supportArch:
  - amd64
  - arm64
permission:
  appData: true
  appCache: true
options:
  apiTimeout: 0
  allowedOutboundPorts:
    - 465
    - 587
  dependencies:
  - name: olares
    version: '>=1.12.3-0'
    type: system
envs:
  - envName: SMTP_SERVER
    required: false
    valueFrom:
      envName: OLARES_USER_SMTP_SERVER
    applyOnChange: true
  - envName: SMTP_PORT
    required: false
    valueFrom:
      envName: OLARES_USER_SMTP_PORT
    applyOnChange: true
  - envName: SMTP_LOGIN
    required: false
    valueFrom:
      envName: OLARES_USER_SMTP_USERNAME
    applyOnChange: true
  - envName: SMTP_PASSWORD
    required: false
    valueFrom:
      envName: OLARES_USER_SMTP_PASSWORD
    applyOnChange: true
  - envName: SMTP_FROM_ADDRESS
    required: false
    valueFrom:
      envName: OLARES_USER_SMTP_FROM_ADDRESS
    applyOnChange: true
  - envName: SMTP_DOMAIN
    required: false
    type: domain
    editable: true
    applyOnChange: true
  - envName: SMTP_DELIVERY_METHOD
    type: string
    editable: true
    applyOnChange: true
    required: false
    default: "smtp"
  - envName: SMTP_AUTH_METHOD
    type: string
    editable: true
    applyOnChange: true
    required: false
  - envName: SMTP_CA_FILE
    type: string
    editable: true
    applyOnChange: true
    required: false
  - envName: SMTP_OPENSSL_VERIFY_MODE
    type: string
    editable: true
    applyOnChange: true
    required: false
  - envName: SMTP_ENABLE_STARTTLS_AUTO
    type: string
    editable: true
    applyOnChange: true
    required: false
    valueFrom:
      envName: OLARES_USER_SMTP_USE_TLS
  - envName: SMTP_ENABLE_STARTTLS
    type: string
    editable: true
    applyOnChange: true
    required: false
    valueFrom:
      envName: OLARES_USER_SMTP_USE_TLS
  - envName: SMTP_TLS
    applyOnChange: true
    required: false
    valueFrom:
      envName: OLARES_USER_SMTP_USE_TLS
  - envName: SMTP_SSL
    applyOnChange: true
    required: false
    valueFrom:
      envName: OLARES_USER_SMTP_USE_SSL
  - envName: PDS_ADMIN_PASSWORD  
    required: true
    type: password
    editable: false
    regex: '^[\w\-!@#$%^&*()+={}\[\]:,.?~]{6,}$'
    description: "Password must be at least 6 characters"