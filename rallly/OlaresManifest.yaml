olaresManifest.version: '0.10.0'
olaresManifest.type: app
metadata:
  name: rallly
  description: Open-source scheduling and collaboration tool designed to make organizing events and meetings easier
  icon: https://app.cdn.olares.com/appstore/rallly/icon.png
  appid: rallly
  version: '1.0.8'
  title: Rallly
  categories:
    - Productivity_v112
    - Productivity
permission:
  appData: true
  appCache: true
  userData:
    - Home
spec:
  versionName: '4.3.1'
  featuredImage: https://app.cdn.olares.com/appstore/rallly/1.webp
  promoteImage:
  - https://app.cdn.olares.com/appstore/rallly/1.webp
  - https://app.cdn.olares.com/appstore/rallly/2.webp

  fullDescription: |
    Rallly is an open-source scheduling and collaboration tool designed to make organizing events and meetings easier.

    Schedule group meetings with friends, colleagues and teams. Create meeting polls to find the best date and time to organize an event based on your participants' availability. Save time and avoid back-and-forth emails.

    # Important Note
    After installing the app, you must configure the SMTP service and restart the container; otherwise, registration emails will not be sent. 
    
    To do this, open the Control-Hub, navigate to Browse > Rally > ConfigMap, find rallly-config, click Edit YAML, and configure the SMTP-related fields.
  developer: lukevella
  website: https://rallly.co
  sourceCode: https://github.com/lukevella/rallly
  submitter: Olares
  doc: https://github.com/lukevella/rallly
  license:
  - text: AGPL-3.0
    url: https://github.com/lukevella/rallly?tab=AGPL-3.0-1-ov-file
  locale:
    - en-US
    - zh-CN
  requiredMemory: 300Mi
  limitedMemory: 2Gi
  requiredDisk: 256Mi
  limitedDisk: 1Gi
  requiredCpu: 1
  limitedCpu: 2
  supportArch:
    - amd64
options:
  allowedOutboundPorts:
  - 465
  - 587
  policies:
    - uriRegex: ^/(login|register)(/.*)?(\?.*)?$
      level: system
      oneTime: false
      validDuration: 3600s
      entranceName: rallly
  dependencies:
    - name: olares
      type: system
      version: '>=1.12.2-0'
entrances:
  - name: rallly
    port: 3000
    host: rallly-svc
    title: Rallly
    icon: https://app.cdn.olares.com/appstore/rallly/icon.png
    openMethod: window
    authLevel: public
middleware:
  postgres:
    username: rallly
    databases:
      - name: rallly

envs:
  - envName: SMTP_HOST
    required: false
    applyOnChange: true
    valueFrom:
      envName: OLARES_USER_SMTP_SERVER
  - envName: SMTP_PORT
    required: false
    applyOnChange: true
    valueFrom:
      envName: OLARES_USER_SMTP_PORT
  - envName: SMTP_USER
    required: false
    applyOnChange: true
    valueFrom:
      envName: OLARES_USER_SMTP_USERNAME
  - envName: SMTP_PWD
    required: false
    applyOnChange: true
    valueFrom:
      envName: OLARES_USER_SMTP_PASSWORD
  - envName: SMTP_SECURE
    required: false
    applyOnChange: true
    valueFrom:
      envName: OLARES_USER_SMTP_SECURE
  - envName: SUPPORT_EMAIL
    required: false
    applyOnChange: true
    valueFrom:
      envName: OLARES_USER_SMTP_FROM_ADDRESS
      
