metadata:
  title: Mastodon
  description: Your self-hosted, globally interconnected microblogging community
spec:
  fullDescription: |
    Mastodon is a free, open-source social network server based on ActivityPub where users can follow friends and discover new ones.

    On Mastodon, users can publish anything they want: links, pictures, text, and video. All Mastodon servers are interoperable as a federated network (users on one server can seamlessly communicate with users from another one, including non-Mastodon software that implements ActivityPub!)

    Features
    * No vendor lock-in: Fully interoperable with any conforming platform
    > It doesn't have to be Mastodon; whatever implements ActivityPub is part of the social network!

    * Real-time, chronological timeline updates
    >   Updates of people you're following appear in real-time in the UI via WebSockets. There's a firehose view as well!

    * Media attachments like images and short videos
    > Upload and view images and WebM/MP4 videos attached to the updates. Videos with no audio track are treated like GIFs; normal videos loop continuously!

    * Safety and moderation tools
    > Mastodon includes private posts, locked accounts, phrase filtering, muting, blocking, and all sorts of other features, along with a reporting and moderation system.

    * OAuth2 and a straightforward REST API
    > Mastodon acts as an OAuth2 provider, so 3rd party apps can use the REST and Streaming APIs. This results in a rich app ecosystem with a lot of choices!
  upgradeDescription: |
    # Upgrade Overview
    
    Important: This release requires assets recompilation.
    
    If you are upgrading directly from an earlier release (before 4.5.2), please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations. In particular, it is very important to read the 4.5.0 release notes.
    
    # Changelog
    
    ## Security
    * Fix inconsistent error handling leaking information on existence of private posts (GHSA-gwhw-gcjx-72v8)
    
    ## Fixed
    * Fix Delete and Redraft on a non-quote being treated as a quote post in some cases
    * Fix YouTube embeds by sending referer
    * Fix streamed quoted polls not being hydrated correctly
    * Fix creation of duplicate conversations
    * Fix extraneous noreferrer in external links
    * Fix edge case error handling in some database migrations
    * Fix error handling when re-fetching already-known statuses
    * Fix post navigation in single-column mode when Advanced UI is enabled
    * Fix tootctl status remove removing quoted posts and remote quotes of local posts
    * Fix known expensive S3 batch delete operation failing because of short timeouts
    * Fix compose autosuggest always lowercasing input token
    
    # Upgrade Instructions
    
    ## Dependencies
    External dependencies have not changed since v4.5.0:
    * Ruby: 3.2 or newer
    * PostgreSQL: 14 or newer
    * Elasticsearch (recommended): 7.x (OpenSearch should also work)
    * LibreTranslate (optional): 1.3.3 or newer
    * Redis: 7.0 or newer
    * Node: 20.19 or newer
    * libvips (optional): 8.13 or newer
    * ImageMagick (optional if using libvips): 6.9.7-7 or newer
    
    ## Update Steps (from 4.5.2)
    
    ### Non-Docker
    1. Precompile the assets: RAILS_ENV=production bundle exec rails assets:precompile
    2. Restart all Mastodon processes.
    
    ### Docker
    1. Restart all Mastodon processes.
    
    Note: As always, make sure you have backups of the database before performing any upgrades.
    
    Check the full release notes here: https://github.com/mastodon/mastodon/releases/tag/v4.5.3
