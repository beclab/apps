olaresManifest.version: '0.10.0'
olaresManifest.type: app
metadata:
  name: windows
  appid: windows
  description: Run Windows on Olares
  icon: https://app.cdn.olares.com/appstore/windows/logo.png
  version: '1.0.25'
  title: Windows
  categories:
    - Utilities_v112
    - Utilities
permission:
  appData: true
  appCache: true
spec:
  versionName: '4.34'
  featuredImage: https://app.cdn.olares.com/appstore/windows/1.webp
  promoteImage:
  - https://app.cdn.olares.com/appstore/windows/1.webp
  - https://app.cdn.olares.com/appstore/windows/2.webp
  - https://app.cdn.olares.com/appstore/windows/3.webp
  fullDescription: |
    This app helps you run Windows on Olars.
    Based on dockur's Windows inside a Docker container.
    
    Features
    ISO downloader
    KVM acceleration
    Web-based viewer  

    Supported Windows	Versions
    - Windows 11 Pro
    - Windows 11 LTSC
    - Windows 11 Enterprise
    - Windows 10 Pro
    - Windows 10 Enterprise
    - Windows 8.1 Enterprise
    - Windows 7 Ultimate
    - Windows Vista Ultimate
    - Windows XP Professional
    - Windows 2000 Professional
    - Windows Server 2025
    - Windows Server 2022
    - Windows Server 2019
    - Windows Server 2016
    - Windows Server 2012
    - Windows Server 2008
    - Windows Server 2003
  upgradeDescription: |
    Upgrade to version 4.34
    
    What's Changed
    docs: Add quotes around $PWD by @kroese in #1206
    feat: Set user agent for downloads by @kroese in #1209
    feat: Additional download mirrors by @kroese in #1210
    feat: Additional download mirrors by @kroese in #1212
    feat: Additional download mirrors by @kroese in #1213
    feat: Additional download mirrors by @kroese in #1214
    feat: Improve OS detection by @kroese in #1219

    full release note: https://github.com/dockur/windows/releases/tag/v4.34

  developer: dockur
  website: https://github.com/dockur/windows?tab=readme-ov-file#readme
  sourceCode: https://github.com/dockur/windows
  submitter: Olares
  locale:
    - en-US
    - zh-CN
  doc: https://wiki.servarr.com/prowlarr
  license:
    - text: MIT
      url: https://github.com/dockur/windows?tab=MIT-1-ov-file#readme
  requiredMemory: 6Gi
  limitedMemory: 24Gi
  requiredDisk: 128Gi
  limitedDisk: 300Gi
  requiredCpu: 4
  limitedCpu: 12
  supportArch:
    - amd64
  supportClient:
    android: https://play.google.com/store/apps/details?id=com.microsoft.rdc.androidx
    ios: https://aka.ms/iOSWindowsApp
    mac: https://aka.ms/macOSWindowsApp
options:
  allowMultipleInstall: true
  dependencies:
    - name: olares
      type: system
      version: '>=1.12.3-0'
entrances:
  - name: vnc-svc
    port: 8006
    host: windows-svc
    title: Windows
    icon: https://app.cdn.olares.com/appstore/windows/logo.png
    openMethod: window
ports:
- name: rdp-tcp-udp
  host: windows-svc
  port: 3389
  addToTailscaleAcl: true
envs:
  - envName: USERNAME
    type: string
    required: true
    editable: false
    regex: '^[\w]{1,}$'
  - envName: PASSWORD
    type: password
    required: true
    editable: false
    regex: '^[\w\-!@#$%^&*()+={}\[\]:,.?~]{1,}$'
  - envName: VERSION
    type: string
    required: true
    editable: false
    remoteOptions: "https://app.cdn.olares.com/appstore/windows/version_options.json"    
  - envName: RAM_SIZE
    type: string
    required: true
    editable: true
    applyOnChange: true
    description: "RAM size for Windows instance, e.g: 4G"
    regex: "^([1-9][0-9]{0,})G$"
    default: "4G"
  - envName: CPU_CORES
    type: string
    required: true
    editable: true
    applyOnChange: true
    description: "CPU cores for Windows instance, e.g: 4"
    regex: "^([1-9][0-9]{0,})$"
    default: "4"
  - envName: DISK_SIZE
    type: string
    required: true
    editable: true
    applyOnChange: true
    description: "Disk space for Windows instance, e.g: 128G"
    regex: "^([1-9][0-9]{0,})G$"