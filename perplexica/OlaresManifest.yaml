olaresManifest.version: '0.11.0'
olaresManifest.type: app
metadata:
  name: perplexica
  icon: https://app.cdn.olares.com/appstore/perplexica/icon.png
  description: An Open source alternative to Perplexity AI
  appid: perplexica
  title: Perplexica
  version: '1.1.15'
  categories:
  - Productivity_v112
  - Utilities_v112
  - Productivity
entrances:
- authLevel: private
  host: perplexicaingress
  icon: https://app.cdn.olares.com/appstore/perplexica/icon.png
  name: pbe
  openMethod: window
  port: 8080
  title: Perplexica
spec:
  versionName: '1.12.0'
  featuredImage: https://app.cdn.olares.com/appstore/perplexica/promote_image_1.jpg
  promoteImage:
  - https://app.cdn.olares.com/appstore/perplexica/promote_image_1.jpg
  - https://app.cdn.olares.com/appstore/perplexica/promote_image_2.jpg
  - https://app.cdn.olares.com/appstore/perplexica/promote_image_3.jpg
  - https://app.cdn.olares.com/appstore/perplexica/promote_image_4.jpg
  fullDescription: |
    Perplexica is an open-source AI-powered searching tool or an AI-powered search engine that goes deep into the internet to find answers. Inspired by Perplexity AI, it's an open-source option that not just searches the web but understands your questions. It uses advanced machine learning algorithms like similarity searching and embeddings to refine results and provides clear answers with sources cited.

    Using SearxNG to stay current and fully open source, Perplexica ensures you always get the most up-to-date information without compromising your privacy.

    Features
    Local LLMs: You can make use local LLMs such as Llama3 and Mixtral using Ollama.

    Two Main Modes:
    - Copilot Mode: (In development) Boosts search by generating different queries to find more relevant internet sources. Like normal search instead of just using the context by SearxNG, it visits the top matches and tries to find relevant sources to the user's query directly from the page.
    - Normal Mode: Processes your query and performs a web search.

    Source System: Perplexica supports 3 search sources that can be toggled individually or used together:
    - Web: Searches the entire web to find the best results.
    - Academic: Finds articles and papers, ideal for academic research.
    - Discussions: Searches discussion forums and social platforms for opinions and conversations.

    Current Information: Some search tools might give you outdated info because they use data from crawling bots and convert them into embeddings and store them in a index. Unlike them, Perplexica uses SearxNG, a metasearch engine to get the results and rerank and get the most relevant source out of it, ensuring you always get the latest information without the overhead of daily data updates.

  upgradeDescription: |
    Upgrade app version to 1.12.0
    
    This is a major release featuring a complete architectural overhaul. We've removed Langchain in favor of a custom implementation for low-level control over streaming, generation, and provider-specific features.
    
    What's Changed
    
    General Updates:
    - Renamed providers to connections for better UX
    - Fixed SearxNG build and startup errors
    - Added new agents DIR, migrated suggestions, video and audio agents
    - Added message and chunk types for better type safety
    - Added code block rendering with syntax highlighting
    - Added version number and GitHub link in settings
    - Various UI improvements with animations via Framer Motion
    
    Langchain Removal & Custom Provider System:
    - Removed Langchain and implemented custom base and provider classes
    - Implemented function calling with partial streaming
    
    New Session Manager:
    - Added session manager with automatic stream reconnection
    - Sessions can be restored via ID if page refreshes or stream disconnects
    
    Widgets:
    - Added widgets for weather information, stock market data, and mathematical calculations
    
    Query Classification & Researcher with Actions:
    - Each query is now classified before research begins
    - Researcher uses actions with tool calling for web search, scraping, specific website search, discussion search, file uploads search, etc.
    
    Deep Research Mode (Beta):
    - Added quality search mode where the LLM reasons iteratively over collected data
    - Allows deeper exploration of topics and preparing detailed reports
    
    Updated Research Modes:
    - Balanced Mode: Now forces the LLM to reason with limited maximum actions
    - Speed Mode: Runs without any reasoning for fast responses
    
    Block & JSON Patch Based Streaming:
    - Each step of the LLM is now streamed for real-time visibility
    
    New Upload Manager & Enhanced File Search:
    - Added upload manager supporting PDF, DOCX, and text files
    - Enhanced file search with RRF (Reciprocal Rank Fusion) for better retrieval quality
    
    Redesigned Source System:
    - Focus modes removed and replaced with 3 sources: web, academic, and discussions
    - Sources can be toggled individually or used all together
    
    Full release note at: https://github.com/ItzCrazyKns/Perplexica/releases/tag/v1.12.0

  developer: ItzCrazyKns
  website: https://github.com/ItzCrazyKns/Perplexica?tab=readme-ov-file#readme-ov-file
  sourceCode: https://github.com/ItzCrazyKns/Perplexica
  submitter: Olares
  locale:
  - en-US
  - zh-CN
  doc: https://github.com/ItzCrazyKns/Perplexica?tab=readme-ov-file#readme-ov-file
  license:
  - text: MIT
    url: https://github.com/ItzCrazyKns/Perplexica?tab=readme-ov-file#MIT-1-ov-file
  limitedCpu: 4.5
  limitedDisk: 50Gi
  limitedMemory: 4.5Gi
  requiredCpu: 50m
  requiredDisk: 50Mi
  requiredMemory: 1000Mi
  supportArch:
  - amd64
  - arm64
permission:
  appData: true
  appCache: true
middleware:
  postgres:
    username: perplexica
    password: perplexica
    databases:
    - name: perplexica
      distributed: true
options:
  apiTimeout: 0  
  dependencies:
  - name: olares
    version: '>=1.12.2-0'
    type: system
  - name: ollamav2
    type: application
    version: '>=1.0.0'
  - name: searxngv2
    type: application
    version: '>=1.0.0'
envs:
  - envName: OPENAI_APIKEY
    required: false
    applyOnChange: true
    valueFrom:
      envName: OLARES_USER_OPENAI_APIKEY
  - envName: CUSTOM_OPENAI_URL
    required: false
    applyOnChange: true
    valueFrom:
      envName: OLARES_USER_CUSTOM_OPENAI_SERVICE      
  - envName: CUSTOM_OPENAI_APIKEY
    applyOnChange: true    
    required: false
    valueFrom:
      envName: OLARES_USER_CUSTOM_OPENAI_APIKEY
  - envName: CUSTOM_OPENAI_MODEL_NAME
    required: false
    type: string
    editable: true
    applyOnChange: true
  - envName: GROQ_APIKEY
    required: false
    type: password
    editable: true
    applyOnChange: true
  - envName: ANTHROPIC_APIKEY
    required: false
    type: password
    editable: true
    applyOnChange: true
  - envName: GEMINI_APIKEY
    required: false
    type: password
    editable: true
    applyOnChange: true
  - envName: SEARXNG_API_URL
    required: false
    type: url
    editable: true
    applyOnChange: true
    description: "SearxNG API URL"
  - envName: OLLAMA_CONNECTION_NAME
    required: false
    type: string
    editable: true
    applyOnChange: true
    default: "Ollama"
    description: "Ollama connection name"
  - envName: OLLAMA_API_KEY
    required: false
    type: password
    editable: true
    applyOnChange: true
    description: "Ollama API key (usually not required, leave empty)"
  - envName: OLLAMA_MODEL
    required: false
    type: string
    editable: true
    applyOnChange: true
    description: "Ollama model name"
    