olaresManifest:
  version: '0.8.1'
  type: app

metadata:
  name: maxkb
  description: 'maxkb'
  icon: https://file.bttcdn.com/appstore/maxkb/icon.png
  appid: maxkb
  version: '1.0.1'
  title: MaxKB
  categories:
    - Productivity

permission:
  appData: true
  appCache: true
  userData:
    - Home

spec:
  versionName: 'v1.10.2-lts'
  featuredImage: 
  promoteImage:
  fullDescription: |
    Max Knowledge Base.
  developer: FIT2CLOUD
  website: https://maxkb.pro/
  sourceCode: https://github.com/1Panel-dev/MaxKB/
  submitter: Olares
  doc: https://docs.maxkb.pro/
  license: 
  locale:
    - en-US
    - zh-CN
  requiredMemory: 2Gi
  limitedMemory: 12Gi
  requiredDisk: 20Gi
  limitedDisk: 120Gi
  requiredCpu: 1
  limitedCpu: 3
  requiredGpu: 2Gi
  limitedGpu: 12Gi
  supportArch:
    - amd64
    - arm64

options:
  allowedOutboundPorts:
    - 465
    - 587
  dependencies:
    - name: olares
      type: system
      version: '>=1.10.1-0'
  policies:
    - uriRegex: ^/(ui/login)(/.*)?(\?.*)?$
      level: one_factor
      oneTime: false
      validDuration: 3600s
      entranceName: maxkb
    - uriRegex: ^/
      level: public
      oneTime: false
      validDuration: 3600s
      entranceName: maxkb

entrances:
  - name: maxkb
    port: 8080
    host: maxkb
    title: maxkb
    icon: https://file.bttcdn.com/appstore/maxkb/icon.png
    openMethod: window
